!function(){"use strict";function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(self.webpackChunkinventory_web=self.webpackChunkinventory_web||[]).push([[488],{8488:function(e,o,r){r.r(o),r.d(o,{DetalheOrcamentoModule:function(){return C}});var i=r(8583),c=r(1945),a=r(4188),d=r(639),g=r(6302),u=r(5855),p=r(9625);function l(n,t){if(1&n&&(d.TgZ(0,"div",12),d.TgZ(1,"h4",8),d._uU(2),d.qZA(),d.TgZ(3,"h4",8),d._uU(4),d.qZA(),d.TgZ(5,"h4",8),d._uU(6),d.ALo(7,"currency"),d.qZA(),d.qZA()),2&n){var e=t.$implicit;d.xp6(2),d.Oqu(null==e||null==e.produto?null:e.produto.name),d.xp6(2),d.Oqu(null==e?null:e.quantity),d.xp6(2),d.Oqu(d.xi3(7,3,null==e?null:e.price,"BRL"))}}function f(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(){return d.CHM(e),d.oxw().efetuarVenda()}),d._uU(1,"Efetuar Venda"),d.qZA()}}var s,O=((s=function(){function e(t,o,r){n(this,e),this.vendaService=t,this.router=o,this.produtoService=r,this.venda=new a.S,this.produtos=[],this.role=""}var o,r,i;return o=e,(r=[{key:"ngOnInit",value:function(){var n=this;this.role=localStorage.getItem("inventory-role")+"";var t=history.state.venda;t&&(this.venda=t),this.produtoService.getProdutos().subscribe(function(t){var e;n.produtos=t.map(function(n){var t=new c.a;return t.id=n.id,t.name=n.name,t.price=n.price,t}),null===(e=n.venda.vendaProdutos)||void 0===e||e.map(function(t){if(t.produto&&t.produto.id){var e=n.produtos.find(function(n){var e;return n.id==(null===(e=t.produto)||void 0===e?void 0:e.id)});e&&e.price&&t.quantity&&(t.price=e.price*t.quantity),t.price&&n.venda&&null!=n.venda.finalPrice&&(n.venda.finalPrice+=t.price)}})})}},{key:"translatePayment",value:function(n){switch(n){case"CARTAO_DEBITO":return"Cart\xe3o de D\xe9bito";case"CARTAO_CREDITO":return"Cart\xe3o de Cr\xe9dito";case"CARTAO_BOLETO":return"Boleoto";default:return n}}},{key:"efetuarVenda",value:function(){var n=this;this.vendaService.efetuarVenda(this.venda).subscribe(function(t){alert("Venda Efetuada com sucesso"),n.router.navigate(["/vendas"])},function(t){401==t.status?(alert("Sess\xe3o expirada"),n.router.navigate(["/login"])):"SALE_NOT_FOUND"==t.error.error?alert("C\xf3digo de Venda inv\xe1lido"):alert(JSON.stringify(t.error))})}}])&&t(o.prototype,r),i&&t(o,i),e}()).\u0275fac=function(n){return new(n||s)(d.Y36(g.O),d.Y36(u.F0),d.Y36(p.m))},s.\u0275cmp=d.Xpm({type:s,selectors:[["app-detalhe-orcamento"]],decls:42,vars:12,consts:[[1,"container"],[1,"title"],[1,"contentsVendaWp"],[1,"contentsVenda"],[1,"cv"],[1,"sub-title"],[1,"produtosDiv"],[1,"produtoCats"],[1,"name"],["class","produto",4,"ngFor","ngForOf"],[1,"btnVenda"],[3,"click",4,"ngIf"],[1,"produto"],[3,"click"]],template:function(n,t){1&n&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"h1"),d._uU(3,"OR\xc7AMENTO"),d.qZA(),d.qZA(),d.TgZ(4,"div",2),d.TgZ(5,"div",3),d.TgZ(6,"div",4),d.TgZ(7,"b"),d._uU(8,"Data do Or\xe7amento:"),d.qZA(),d.TgZ(9,"span"),d._uU(10),d.ALo(11,"date"),d.qZA(),d.qZA(),d.TgZ(12,"div",4),d.TgZ(13,"b"),d._uU(14,"Cliente:"),d.qZA(),d.TgZ(15,"span"),d._uU(16),d.qZA(),d.qZA(),d.TgZ(17,"div",4),d.TgZ(18,"b"),d._uU(19,"M\xe9todo de Pagamento:"),d.qZA(),d.TgZ(20,"span"),d._uU(21),d.qZA(),d.qZA(),d.TgZ(22,"div",4),d.TgZ(23,"b"),d._uU(24,"Total:"),d.qZA(),d.TgZ(25,"span"),d._uU(26),d.ALo(27,"currency"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(28,"div",5),d.TgZ(29,"h1"),d._uU(30,"Produtos"),d.qZA(),d.qZA(),d.TgZ(31,"div",6),d.TgZ(32,"div",7),d.TgZ(33,"h4",8),d._uU(34,"Produto"),d.qZA(),d.TgZ(35,"h4",8),d._uU(36,"Quantidade"),d.qZA(),d.TgZ(37,"h4",8),d._uU(38,"Pre\xe7o"),d.qZA(),d.qZA(),d.YNc(39,l,8,6,"div",9),d.qZA(),d.TgZ(40,"div",10),d.YNc(41,f,2,0,"button",11),d.qZA(),d.qZA()),2&n&&(d.xp6(10),d.Oqu(d.xi3(11,6,null==t.venda?null:t.venda.updatedAt,"dd/MM/yyyy")),d.xp6(6),d.Oqu(null==t.venda||null==t.venda.cliente?null:t.venda.cliente.name),d.xp6(5),d.Oqu(t.translatePayment(null==t.venda?null:t.venda.paymentMethod)),d.xp6(5),d.Oqu(d.xi3(27,9,null==t.venda?null:t.venda.finalPrice,"BRL")),d.xp6(13),d.Q6J("ngForOf",t.venda.vendaProdutos),d.xp6(2),d.Q6J("ngIf","venda"==t.role||"admin"==t.role))},directives:[i.sg,i.O5],pipes:[i.uU,i.H9],styles:[".container[_ngcontent-%COMP%]{padding:30px}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;width:100%;background-color:#9364f1;padding:5px}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:25px;margin:10px 0}.container[_ngcontent-%COMP%]   .produtoCats[_ngcontent-%COMP%]{display:flex;margin:30px 10px 0 30px}.container[_ngcontent-%COMP%]   .produtoCats[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;text-align:center;margin:5px}.container[_ngcontent-%COMP%]   .produtoCats[_ngcontent-%COMP%]   h4.name[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .produtoCats[_ngcontent-%COMP%]   h4.categoria[_ngcontent-%COMP%]{flex:2}.container[_ngcontent-%COMP%]   .produtosDiv[_ngcontent-%COMP%]{width:60%;margin:10px auto 0}.container[_ngcontent-%COMP%]   .produtosDiv[_ngcontent-%COMP%]   .produto[_ngcontent-%COMP%]{width:calc(100% - 40px);border:1px solid #cacaca;border-radius:30px;margin:20px;padding:10px;display:flex}.container[_ngcontent-%COMP%]   .produtosDiv[_ngcontent-%COMP%]   .produto[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;text-align:center;margin:5px}.container[_ngcontent-%COMP%]   .produtosDiv[_ngcontent-%COMP%]   .produto[_ngcontent-%COMP%]   h4.name[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .produtosDiv[_ngcontent-%COMP%]   .produto[_ngcontent-%COMP%]   h4.categoria[_ngcontent-%COMP%]{flex:2}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding:50px;justify-content:center;display:flex;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:bold;margin-bottom:10px;color:#534962}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#fff;width:340px;border-radius:15px;box-shadow:none;outline:none;border:1px solid #9671f1;font-size:16px;padding:15px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-right:15px;width:370px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]   .formGroupMoney[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]   .formGroupMoney[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:1px solid #9671f1;height:48px;border-right:none;border-radius:15px 0 0 15px;display:flex;align-items:center;padding:0 15px;font-size:20px;color:#fff;background:#9671f1}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formGroup[_ngcontent-%COMP%]   .formGroupMoney[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100px;border-left:none;border-radius:0 15px 15px 0}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formGroup2[_ngcontent-%COMP%]{display:flex;grid-column-gap:50px;-moz-column-gap:50px;column-gap:50px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .formGroup2[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btnDiv[_ngcontent-%COMP%]{display:flex;grid-column-gap:50px;-moz-column-gap:50px;column-gap:50px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btnSubmit[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:2rem;border:none;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background:#ccd1ff;color:#5e17eb;border-radius:50px;font-size:20px;cursor:pointer;padding:16px 40px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btnDelete[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:2rem;border:none;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background:#ff4646;color:#fff;border-radius:50px;font-size:20px;cursor:pointer;padding:16px 40px}.contentsVendaWp[_ngcontent-%COMP%]{padding:50px;text-align:center}.contentsVendaWp[_ngcontent-%COMP%]   .contentsVenda[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-row-gap:30px;row-gap:30px}.contentsVendaWp[_ngcontent-%COMP%]   .contentsVenda[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.3em;padding-left:15px}.sub-title[_ngcontent-%COMP%]{text-align:center;width:50%;background-color:#9364f1;padding:5px;margin:0 auto}.sub-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:18px;margin:5px 0}.btnVenda[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:45px}.btnVenda[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#9364f1;color:#fff;outline:none;border:none;padding:10px 15px;font-size:20px;cursor:pointer;border-radius:5px}"]}),s),_=r(665),C=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[g.O,p.m],imports:[[i.ez,u.Bz.forChild([{path:"",component:O}]),_.u5]]}),t}()}}])}();