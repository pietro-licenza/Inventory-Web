"use strict";(self.webpackChunkinventory_web=self.webpackChunkinventory_web||[]).push([[693],{4693:function(t,n,e){e.r(n),e.d(n,{ProdutosModule:function(){return _}});var o=e(8583),i=e(7120),a=e(1945),r=e(9976),c=e(639),g=e(9625),s=e(1072),u=e(5855),d=e(9577);function p(t,n){if(1&t){const t=c.EpF();c.TgZ(0,"div",10),c.TgZ(1,"h4",4),c._uU(2),c.qZA(),c.TgZ(3,"h4"),c._uU(4),c.qZA(),c.TgZ(5,"h4"),c._uU(6),c.ALo(7,"currency"),c.qZA(),c.TgZ(8,"h4",5),c._uU(9),c.qZA(),c.TgZ(10,"h4",9),c.NdJ("click",function(){const n=c.CHM(t).$implicit;return c.oxw().editProduct(n)}),c._UZ(11,"fa-icon",11),c.qZA(),c.qZA()}if(2&t){const t=n.$implicit,e=c.oxw();c.xp6(2),c.Oqu(null==t?null:t.name),c.xp6(2),c.Oqu(null==t?null:t.quantity),c.xp6(2),c.Oqu(c.xi3(7,5,null==t?null:t.price,"BRL")),c.xp6(3),c.Oqu(null==t||null==t.categoria?null:t.categoria.name),c.xp6(2),c.Q6J("icon",e.faPencil)}}function P(t,n){if(1&t){const t=c.EpF();c.TgZ(0,"div",12),c.TgZ(1,"div",13),c.TgZ(2,"div",14),c.TgZ(3,"fa-icon",15),c.NdJ("click",function(){return c.CHM(t),c.oxw().getPrevPage()}),c.qZA(),c.qZA(),c.TgZ(4,"div",14),c.TgZ(5,"fa-icon",15),c.NdJ("click",function(){return c.CHM(t),c.oxw().getNextPage()}),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(3),c.ekj("desativado",1===t.currentPage),c.Q6J("icon",t.faLeft),c.xp6(2),c.ekj("desativado",t.currentPage===t.pages),c.Q6J("icon",t.faRight)}}let l=(()=>{class t{constructor(t,n,e){this.produtoService=t,this.categoriaService=n,this.router=e,this.faPencil=r.UJf,this.produtos=[],this.categorias=[],this.faLeft=r.A35,this.faRight=r._tD,this.currentPage=1,this.pages=null,this.itemsPerPage=5}ngOnInit(){this.categoriaService.getCategorias().subscribe(t=>{this.categorias=t.map(t=>new i.E(t.id,t.name)),this.produtoService.getProdutos().subscribe(t=>{this.produtos=t.map(t=>{var n=new a.a;return n.id=t.id,n.name=t.name,n.price=t.price,n.quantity=t.quantity,n.createdAt=t.createdAt,n.updatedAt=t.updatedAt,n.categoria=this.categorias.find(n=>n.id===t.categoryId),n.categoryId=t.categoryId,n}),this.pages=Math.ceil(this.produtos.length/this.itemsPerPage),this.getItensPage()},t=>{401==t.status&&this.router.navigate(["/login"])})},t=>{401==t.status&&this.router.navigate(["/login"])})}addProduct(){this.router.navigate(["/add-produto"])}editProduct(t){this.router.navigate(["/add-produto"],{state:{produto:t}})}getNextPage(){this.pages&&this.currentPage<this.pages&&this.currentPage++}getPrevPage(){this.pages&&this.currentPage>1&&this.currentPage--}getItensPage(){var t;let n=this.currentPage;var e=0,o=0;return 1==n?(e=0,o=this.itemsPerPage-1):(e=(n-1)*this.itemsPerPage,o=n*this.itemsPerPage-1),null===(t=this.produtos)||void 0===t?void 0:t.filter((t,n)=>e<=n&&n<=o)}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(g.m),c.Y36(s.n),c.Y36(u.F0))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-produtos"]],decls:20,vars:2,consts:[[1,"container"],[1,"title"],[1,"produtosDiv"],[1,"produtoCats"],[1,"name"],[1,"categoria"],["class","produto",4,"ngFor","ngForOf"],["class","pagination",4,"ngIf"],[1,"addProduct"],[3,"click"],[1,"produto"],[3,"icon"],[1,"pagination"],[1,"buttonsPag"],[1,"btnPag"],[3,"icon","click"]],template:function(t,n){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h1"),c._uU(3,"LISTA DE PRODUTOS"),c.qZA(),c.qZA(),c.TgZ(4,"div",2),c.TgZ(5,"div",3),c.TgZ(6,"h4",4),c._uU(7,"Nome"),c.qZA(),c.TgZ(8,"h4"),c._uU(9,"Quantidade"),c.qZA(),c.TgZ(10,"h4"),c._uU(11,"Pre\xe7o"),c.qZA(),c.TgZ(12,"h4",5),c._uU(13,"Categoria"),c.qZA(),c._UZ(14,"h4"),c.qZA(),c.YNc(15,p,12,8,"div",6),c.qZA(),c.YNc(16,P,6,6,"div",7),c.TgZ(17,"div",8),c.TgZ(18,"button",9),c.NdJ("click",function(){return n.addProduct()}),c._uU(19,"+"),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(15),c.Q6J("ngForOf",n.getItensPage()),c.xp6(1),c.Q6J("ngIf",n.pages&&n.pages>1))},directives:[o.sg,o.O5,d.BN],pipes:[o.H9],styles:[".container[_ngcontent-%COMP%]{padding:30px}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;width:100%;background-color:#9364f1;padding:5px}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:25px;margin:10px 0}.container[_ngcontent-%COMP%]   .produtoCats[_ngcontent-%COMP%]{display:flex;margin:30px 10px 0 30px}.container[_ngcontent-%COMP%]   .produtoCats[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;text-align:center;margin:5px}.container[_ngcontent-%COMP%]   .produtoCats[_ngcontent-%COMP%]   h4.name[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .produtoCats[_ngcontent-%COMP%]   h4.categoria[_ngcontent-%COMP%]{flex:2}.container[_ngcontent-%COMP%]   .produtosDiv[_ngcontent-%COMP%]{margin-top:10px}.container[_ngcontent-%COMP%]   .produtosDiv[_ngcontent-%COMP%]   .produto[_ngcontent-%COMP%]{width:calc(100% - 40px);border:1px solid #cacaca;border-radius:30px;margin:20px;padding:10px;display:flex}.container[_ngcontent-%COMP%]   .produtosDiv[_ngcontent-%COMP%]   .produto[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1;text-align:center;margin:5px}.container[_ngcontent-%COMP%]   .produtosDiv[_ngcontent-%COMP%]   .produto[_ngcontent-%COMP%]   h4.name[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .produtosDiv[_ngcontent-%COMP%]   .produto[_ngcontent-%COMP%]   h4.categoria[_ngcontent-%COMP%]{flex:2}.container[_ngcontent-%COMP%]   .addProduct[_ngcontent-%COMP%]{position:fixed;bottom:40px;right:40px}.container[_ngcontent-%COMP%]   .addProduct[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:#9671f1;border-radius:30px;color:#fff;width:50px;height:49px;padding:0;margin:0;font-size:40px;font-weight:bold;cursor:pointer}.container[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{cursor:pointer}.buttonsPag[_ngcontent-%COMP%]{display:flex;justify-content:center;grid-column-gap:30px;-moz-column-gap:30px;column-gap:30px;padding:30px 0}.buttonsPag[_ngcontent-%COMP%]   .btnPag[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:1.5rem}.buttonsPag[_ngcontent-%COMP%]   .btnPag[_ngcontent-%COMP%]   fa-icon.desativado[_ngcontent-%COMP%]{color:#cacaca}"]}),t})();var h=e(665);let _=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[g.m,s.n],imports:[[o.ez,u.Bz.forChild([{path:"",component:l}]),h.u5,d.uH]]}),t})()}}]);